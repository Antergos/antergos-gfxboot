default harddisk

# hard disk
label harddisk
	localboot -2

# start
label start
	kernel /%INSTALL_DIR%/boot/vmlinuz
	append initrd=/%INSTALL_DIR%/boot/intel_ucode.img,/%INSTALL_DIR%/boot/archiso.img archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% earlymodules=loop modules-load=loop rd.modules-load=loop udev.log-priority=crit rd.udev.log-priority=crit quiet splash

# troubleshooting menu
label Troubleshooting
  menu label More ...
  append ->x

label skylake
	menu label ->x Intel Graphics (Skylake)
	kernel /%INSTALL_DIR%/boot/vmlinuz
	append initrd=/%INSTALL_DIR%/boot/intel_ucode.img,/%INSTALL_DIR%/boot/archiso.img archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% earlymodules=loop modules-load=loop rd.modules-load=loop i915.preliminary_hw_support=1

label intel
	menu label ->x Intel Graphics (All)
	kernel /%INSTALL_DIR%/boot/vmlinuz
	append initrd=/%INSTALL_DIR%/boot/intel_ucode.img,/%INSTALL_DIR%/boot/archiso.img archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% earlymodules=loop modules-load=loop rd.modules-load=loop nomodeset i915.modeset=0

label nvidia
	menu label ->x NVIDIA Graphics
	kernel /%INSTALL_DIR%/boot/vmlinuz
	append initrd=/%INSTALL_DIR%/boot/intel_ucode.img,/%INSTALL_DIR%/boot/archiso.img archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% earlymodules=loop modules-load=loop rd.modules-load=loop nomodeset nouveau.modeset=0

label amd
	menu label ->x AMD Graphics
	kernel /%INSTALL_DIR%/boot/vmlinuz
	append initrd=/%INSTALL_DIR%/boot/intel_ucode.img,/%INSTALL_DIR%/boot/archiso.img archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% earlymodules=loop modules-load=loop rd.modules-load=loop nomodeset radeon.modeset=0

label multi
	menu label ->x Non-Graphical Boot
	kernel /%INSTALL_DIR%/boot/vmlinuz
	append initrd=/%INSTALL_DIR%/boot/intel_ucode.img,/%INSTALL_DIR%/boot/archiso.img archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% earlymodules=loop modules-load=loop rd.modules-load=loop systemd.unit=multi-user.target

label memtest
	menu label ->x memtest
	kernel memtest


ui			gfxboot bootlogo isolinux.msg
implicit	1
prompt		1
timeout		300
